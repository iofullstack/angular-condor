<div id="forms" class="page-layout simple fullwidth" fxLayout="column">

  <!-- HEADER -->
  <div class="header accent p-24 h-160" fxLayout="row" fxLayoutAlign="start center">
      <div fxLayout="column" fxLayoutAlign="center start">
          <div class="black-fg" fxLayout="row" fxLayoutAlign="start center">
              <mat-icon class="secondary-text s-18">home</mat-icon>
              <mat-icon class="secondary-text s-16">chevron_right</mat-icon>
              <span class="secondary-text">Menu</span>
              <mat-icon class="secondary-text s-16">chevron_right</mat-icon>
              <span class="secondary-text">Agregar</span>
          </div>
          <div class="h1 mt-16">Nuevo Menú</div>
      </div>
  </div>
  <!-- / HEADER -->

  <!-- CONTENT -->
  <div class="content p-24">
    <div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">

        <form #f="ngForm" class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start"
              fxFlex="1 0 auto" name="form">

              <div fxFlex="1 0 auto" fxLayout="row" class="form-grupper">
                <mat-form-field fxFlex="100" class="form-grupper-item">
                  <mat-select placeholder="Pertenece *" [(ngModel)]="selectedValue" name="category">
                    <mat-option *ngFor="let category of categorys" [value]="category._id">
                      {{category.name}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div fxFlex="1 0 auto" fxLayout="row" class="form-grupper">
                <mat-form-field fxFlex="100" class="form-grupper-item">
                    <input matInput [(ngModel)]="menuCode" name="code" placeholder="Nombre corto" maxlength="8" required>
                </mat-form-field>
              </div>

              <div fxFlex="1 0 auto" fxLayout="row" class="form-grupper">
                <mat-form-field fxFlex="100" class="form-grupper-item">
                    <input matInput [(ngModel)]="menuName" name="name" placeholder="Nombre" required>
                </mat-form-field>
              </div>

              <div fxFlex="1 0 auto" fxLayout="row" class="form-grupper">
                <mat-form-field class="example-chip-list">
                  <mat-chip-list #chipList1>
                    <mat-chip color="primary" *ngFor="let c of contain" [selectable]="selectable1"
                              [removable]="removable1" (removed)="removeContain(c)">
                      {{ c }}
                      <mat-icon matChipRemove *ngIf="removable1">cancel</mat-icon>
                    </mat-chip>
                    <input placeholder="¿Que contiene?"
                            [matChipInputFor]="chipList1"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                            [matChipInputAddOnBlur]="addOnBlur1"
                            (matChipInputTokenEnd)="addContain($event)">
                  </mat-chip-list>
                </mat-form-field>
              </div>

              <div fxFlex="1 0 auto" fxLayout="row" class="form-grupper">
                <mat-form-field class="example-chip-list">
                  <mat-chip-list #chipList2>
                    <mat-chip *ngFor="let t of type" [selectable]="selectable2"
                              [removable]="removable2" (removed)="removeType(t)">
                      {{ t }}
                      <mat-icon matChipRemove *ngIf="removable2">cancel</mat-icon>
                    </mat-chip>
                    <input placeholder="¿Tipos de contenido?"
                            [matChipInputFor]="chipList2"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                            [matChipInputAddOnBlur]="addOnBlur2"
                            (matChipInputTokenEnd)="addType($event)">
                  </mat-chip-list>
                </mat-form-field>
              </div>

              <div fxFlex="1 0 auto" fxLayout="row" class="form-grupper">
                <h4 class="add-extra">Añadir extra:</h4>
                <button mat-mini-fab color="primary" (click)="openDialog()">+</button>
              </div>
              <div fxFlex="1 0 auto" fxLayout="row" class="form-grupper">
                <mat-form-field class="example-chip-list">
                  <mat-chip-list #chipList3>
                    <mat-chip *ngFor="let ex of extra" [selectable]="selectable3"
                              [removable]="removable3" (removed)="removeExtra(ex)">
                              <strong>${{ex.price}}</strong>&nbsp;- {{ex.name}}
                      <mat-icon matChipRemove *ngIf="removable3">cancel</mat-icon>
                    </mat-chip>
                  </mat-chip-list>
                </mat-form-field>
              </div>

              <div fxFlex="1 0 auto" fxLayout="row" class="form-grupper">
                <input type="file" (change)="onFilePick($event)"/>
              </div>
              <div fxFlex="1 0 auto" fxLayout="row" class="form-grupper">
                <lib-cropper [imageFile]="fileInput" [options]="options" (fail)="onFail($event)" (fileChange)="onFileChange($event)"></lib-cropper>
              </div>

              <div fxFlex="1 0 auto" fxLayout="row" class="form-grupper space-top">
                <button (click)="onSubmit(f)" mat-raised-button color="accent">Enviar</button>
              </div>

        </form>

    </div>  
  </div>
  <!-- / CONTENT -->

</div>
